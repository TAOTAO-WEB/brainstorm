<!DOCTYPE html>
<html>
  <head>
    <title>发表主题</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/发表主题/styles.css" type="text/css" rel="stylesheet"/>
    <script src="resources/scripts/jquery-3.2.1.min.js"></script>
    
  </head>
  <body>
    <div id="base" class="">

      <!-- description (组合) -->
      <div id="u0" class="ax_default" data-label="description" data-left="106" data-top="296" data-width="983" data-height="571">

        <!-- Unnamed (矩形) -->
        <div id="u1" class="ax_default box_1">
          <div id="u1_div" class=""></div>
          <div id="u1_text" class="text " style="display:none; visibility: hidden">
            <p></p>
          </div>
        </div>

        <!-- userimg (图片 ) -->
        <div id="u2" class="ax_default image" data-label="userimg">
          <img id="u2_img" class="img " src="images/发表主题/regen/userimg_u2.svg"/>
          <div id="u2_text" class="text " style="display:none; visibility: hidden">
            <p></p>
          </div>
        </div>

        <!-- 主题输入框context (文本框) -->
        <div id="u3" class="ax_default text_field" data-label="主题输入框context">
          <div id="u3_div" class=""></div>
          <input id="u3_input" type="text" value="" class="u3_input" name='context' v-model='context'>
        </div>

        <!-- 发言框 (矩形) -->
        <div id="u4" class="ax_default box_1" data-label="发言框">
          <img id="u4_img" class="img " src="images/发表主题/regen/发言框_u4.svg"/>
          <div id="u4_text" class="text " style="display:none; visibility: hidden">
            <p></p>
          </div>
        </div>

        <!-- 插入 (组合) -->
        <div id="u5" class="ax_default" data-label="插入" data-left="178" data-top="471" data-width="693" data-height="19">

          <!-- Unnamed (形状) -->
          <div id="u6" class="ax_default icon">
            <img id="u6_img" class="img " src="images/发表主题/regen/u6.svg"/>
            <div id="u6_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (形状) -->
          <div id="u7" class="ax_default icon">
            <img id="u7_img" class="img " src="images/发表主题/regen/u6.svg"/>
            <div id="u7_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (形状) -->
          <div id="u8" class="ax_default icon">
            <img id="u8_img" class="img " src="images/发表主题/regen/u6.svg"/>
            <div id="u8_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (形状) -->
          <div id="u9" class="ax_default icon">
            <img id="u9_img" class="img " src="images/发表主题/regen/u6.svg"/>
            <div id="u9_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (形状) -->
          <div id="u10" class="ax_default icon">
            <img id="u10_img" class="img " src="images/发表主题/regen/u6.svg"/>
            <div id="u10_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (形状) -->
          <div id="u11" class="ax_default icon">
            <img id="u11_img" class="img " src="images/发表主题/regen/u6.svg"/>
            <div id="u11_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>
        </div>

        <!-- 问题描述 (文本域) -->
        <div id="u12" class="ax_default text_area" data-label="问题描述">
          <div id="u12_div" class=""></div>
          <textarea id="u12_input" name='description' class="u12_input" v-model='description'></textarea>
        </div>

        <!-- add (形状) -->
        <div id="u13" class="ax_default icon" data-label="add">
          <img id="u13_img" class="img " src="images/发表主题/regen/add_u13.svg" >
          </div>
        </div>

        <!-- Unnamed (矩形) -->
        <div id="u15" class="ax_default primary_button">
          <div id="u15_div" class=""></div>
          <div id="u15_text" class="text ">
            <p><span>Submit</span></p>
          </div>
        </div>

        <!-- tag (文本框) -->
        <div id="u16" class="ax_default text_field" data-label="tag">
          <div id="u16_div" class=""></div>
          <input id="u16_input" name='tag' type="text" value="" class="u16_input" v-model='tag'>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="js/vue.js"></script>
    <script type="text/javascript" src="js/axios.js"></script>
    <script type="text/javascript">
      axios.defaults.baseURL = 'http://localhost:8080/';
      axios.interceptors.response.use(function(res){
        return res.data;
      }, function(error){
        console.log(error)
      });
      var vm=new Vue({
        el:'#publishtopic',
        data:{
          token:'',
          context:'',
          description:'',
          tag:'',
        },
        methods:{
          queryData:function(){
            var ret = await axios.post("topic/publishtopic",{
              token:this.token;
            });
            if(ret.status!=200){
              console.log('error');
            }
          }
          handle:function(){
            var ret = await axios.post("topic/publishtopic",{
              context:this.context;
              description:this.description;
              tag:this.tag;
            })
            console.log("发布主题帖成功");
          }
        },
        mounted:function(){
          this.queryData();
        }
      })
    </script>
  </body>
</html>
